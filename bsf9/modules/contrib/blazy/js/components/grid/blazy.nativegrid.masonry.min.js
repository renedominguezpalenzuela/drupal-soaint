!function(r,n,t){"use strict";var a=t,o="b-masonry",s=".block-nativegrid.is-b-masonry",l=!1;n.blazy=n.blazy||{};var g={$el:null,gap:15,height:15,rows:10},c=[];function d(t,e,i){var a,n=t.target,o="target"in t?r.closest(n,".grid"):t;r.isElm(o)&&(a=r.find(o,".grid__content"),r.isElm(a)&&(0===g.gap&&(g.gap=1e-4),t=function(){c.push(r.outerHeight(a,!0));var t=r.rect(a),t=Math.ceil((t.height+g.gap)/(g.height+g.gap));o.style.gridRowEnd="span "+t,r.addClass(o,"is-b-grid"),setTimeout(function(){a.style.minHeight="",r.addClass(o,"is-b-layout")},l?600:200)},i||l?setTimeout(t,l?300:200):t()))}function e(i){var a=r.findAll(i,".grid:not(.is-b-grid)");setTimeout(function(){var t=r.computeStyle(i),e=t.getPropertyValue("grid-row-gap"),t=t.getPropertyValue("grid-auto-rows");e&&(g.gap=parseInt(e,10)),t&&(g.height=parseInt(t,10)),a.length&&(l&&r.each(a,function(t,e){t=r.find(t,".grid__content");t&&c[e]&&(t.style.minHeight=c[e]+"px")}),r.each(a,d),l||n.blazy.checkResize(a,d,i,d))},l?110:0),g.$el=i,l&&r.addClass(i,"is-b-unload"),l=!1}n.behaviors.blazyNativeGrid={attach:function(t){a=r.context(t),r.once(e,o,s,a)},detach:function(t,e,i){(l="unload"===i)&&r.once.removeSafely(o,s,a)}}}(dBlazy,Drupal,this.document);
