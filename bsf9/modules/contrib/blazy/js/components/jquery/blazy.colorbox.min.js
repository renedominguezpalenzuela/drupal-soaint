!function(s,i,m,a,g,t){"use strict";var u,n=t,h="b-"+(t="colorbox"),l=s("body"),d="[data-"+t+"-trigger]";function o(t){var e=a.colorbox||{},o=s(t),r=o.data("media")||{},i="video"===r.type,n="rich"===r.type&&"html"in r,t={html:n?r.html:null,rel:r.rel||null,iframe:i,title:function(){var t=o.next(".litebox-caption");return t.length?t.html():""},onComplete:function(){h(),l.addClass("colorbox-on colorbox-on--"+r.type),(i||n)&&(function(){g.clearTimeout(u);var a=e.maxWidth,l=e.maxHeight,d={width:r.width||a,height:r.height||l};u=g.setTimeout(function(){var t,e,o,i,n,h;s("#cboxOverlay").is(":visible")&&(t=s("#cboxLoadedContent"),e=s(".cboxIframe",t),o=s(".media--ratio",t),i=t.find("picture img"),((n=t.find("img[srcset]")).length||i.length)&&(h=i.length?i:n,g.setTimeout(function(){h.each(function(){this.complete?c.call(this):s(this).one("load",c)})},101),d={width:a||r.width,height:l||r.height}),!e.length&&o.length&&m.attachBehaviors(o[0]),e.length||o.length?e.length&&(t.addClass("media media--ratio"),e.attr("width",d.width).attr("height",d.height).addClass("media__element"),t.css({paddingBottom:d.height/d.width*100+"%",height:0})):(t.removeClass("media media--ratio"),t.css({paddingBottom:"",height:d.height}).removeClass("media__element")),s.colorbox.resize({innerWidth:d.width,innerHeight:d.height}))},10)}(),l.addClass(i?"colorbox-on--media":"colorbox-on--html"))},onClosed:function(){var t=s("#cboxContent").find(".media");t.length&&m.detachBehaviors(t[0]),h()}};function h(){l.removeClass(function(t,e){return(e.match(/(^|\s)colorbox-\S+/g)||[]).join(" ")})}function c(){var t=s(this),e=t.width(),o=t.height(),i=t.closest("#cboxLoadedContent"),n=i.width(),i=i.height();i<o?t.css("top",-(o-i)/2):o<i?(t.css({height:i,width:"auto"}),t.css("left",-(t.width()-n)/2)):e<n&&s.colorbox.resize({innerWidth:e,innerHeight:o})}o.colorbox(s.extend({},e,t))}m.behaviors.blazyColorbox={attach:function(t){var e=a.colorbox;i.isUnd(e)||e.mobiledetect&&i.matchMedia(e.mobiledevicewidth)||(n=i.context(t),i.once(o,h,d,n).length&&s("#colorbox").attr("aria-label","color box"))},detach:function(t,e,o){"unload"===o&&i.once.removeSafely(h,d,n)}}}(jQuery,dBlazy,Drupal,drupalSettings,this,this.document);
