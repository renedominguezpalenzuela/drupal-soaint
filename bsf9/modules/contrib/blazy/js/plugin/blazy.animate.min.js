!function(m,t){"use strict";var h="animation",g="blur",v="b-"+g,A="b"+g,l=[],b="data-",d=t.localStorage;function n(t,d){var f=this;return m.chain(t,function(t){var n=t.dataset;if(!m.isElm(t)||!n)return f;var a=m(t),i=n.animation;if(m.isStr(d)&&(i=d),!i)return f;var e="animated",r=h+"end."+i,s=t.style,o=e+" "+i,c=[h,h+"-duration",h+"-delay",h+"-iteration-count"];a.addClass(o),m.each(["Duration","Delay","IterationCount"],function(t){t=h+t;n&&t in n&&(s[t]=n[t])});var u=m.closest(t,".media")||t,A=a.hasClass("b-bg"),l=i===g,t=t;return l&&!A&&(t=m.find(u,"img:not(."+v+")")||t),m.one(t,r,function(t){a.addClass("is-b-"+e).removeClass(o).removeAttr(c,b),m.each(c,function(t){s.removeProperty(t)}),m.isFun(d)&&d(t),l&&(t=m.find(u,"img."+v),m.isElm(t)&&(t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",m.removeAttr(t,b+v)))},!1)})}function f(t,a,i){var n=new Image;n.src=t,m.decode(n).then(function(){(function(){var t=this,n=m.create("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight,n.getContext("2d").drawImage(t,0,0),i(n.toDataURL(a))}).call(n)}).catch(function(){i(t)})}m.animate=n.bind(m),m.fn.animate=function(t){return n(this,t)},m.blur=function(t){var a,i,n,e,r,s,o,c,u=m.aniElement&&m.aniElement(t);m.isElm(u)&&(a=m.find(u,"img."+v),!m.isElm(a)||(o=m.attr(a,b+v))&&(o=o.split("::"),i=d&&"1"===o[0],n="-1"===o[0],e=o[1],r=o[2],t=o[3],s=null,c=!1,u=m.storage(A),i?(o=u&&m.contains(u,e),c=!u||!o,l=u?m.parse(u):[],o&&m.each(l,function(t){if(m.keys(t)[0]===e)return s=t[e],!1})):u&&m.storage(A,null),n?m.removeAttr(a,b+v):s?a.src=s:f(t,r,function(t){var n;a.src=t,i&&c&&((n={})[e]=t,l.push(n),m.storage(A,JSON.stringify(l)))})))}.bind(m)}(dBlazy,this);
